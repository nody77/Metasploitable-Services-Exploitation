## Metasploitable 2 - port 22 SSH - Exploitation

Before exploiting or running a payload on that port we first need to make sure that it is open

```Terminal
nmap -p 22 -sV <metasplitable ip address>
```

![alt text](https://github.com/nody77/Metasploitable-Services-Exploitation/blob/5c9dbe45749a65de6d368a1a19d252b3c79b2efb/Screenshot%202023-04-30%20115005.png)

Then let's open the msfconsole to search for an ssh login payload

```Terminal 
msfconsole
```

```Terminal
search ssh-login
```

![alt text](https://github.com/nody77/Metasploitable-Services-Exploitation/blob/5c9dbe45749a65de6d368a1a19d252b3c79b2efb/Screenshot%202023-04-30%20115142.png)

Then we will choose the 0 choice 

```Terminal
use 0
```

Then we need to show the options of it 

```Terminal 
show options
```

![alt text](https://github.com/nody77/Metasploitable-Services-Exploitation/blob/5c9dbe45749a65de6d368a1a19d252b3c79b2efb/Screenshot%202023-04-30%20115312.png)

As we can see we need to pass the rhost by giving it the metasploitable machine ip address 
and pass the user_file and pass_file by giving it a text file like a wordlist to try different user names and passwords to login
>I used the user pass wordlist of metasploitable for the pass_file 
and I opened a new text file by nano and write some common user names for the user_file
And we need to set the stop on success option to true so that when the payload is running it stop when it find the first match

![alt text](https://github.com/nody77/Metasploitable-Services-Exploitation/blob/5c9dbe45749a65de6d368a1a19d252b3c79b2efb/Screenshot%202023-04-30%20121908.png)

and then exploit the payload 

![alt text](https://github.com/nody77/Metasploitable-Services-Exploitation/blob/5c9dbe45749a65de6d368a1a19d252b3c79b2efb/Screenshot%202023-04-30%20122034.png)

After some time it will give you the ssh sessions that the payload could enter through it.
